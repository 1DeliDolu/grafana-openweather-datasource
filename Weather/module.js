/* [create-plugin] version: 5.15.1 */
define(["@grafana/ui","module","@grafana/runtime","@grafana/data","react"],((e,t,r,n,a)=>(()=>{"use strict";var l={7:t=>{t.exports=e},308:e=>{e.exports=t},531:e=>{e.exports=r},781:e=>{e.exports=n},959:e=>{e.exports=a}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return l[e](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="public/plugins/grafana-openweather-datasource/";var u={};o.r(u),o.d(u,{plugin:()=>C});var c=o(308),s=o.n(c);o.p=s()&&s().uri?s().uri.slice(0,s().uri.lastIndexOf("/")+1):"public/plugins/grafana-openweather-datasource/";var p=o(781),b=o(531);const m={city:"Marburg",mainParameter:"main",subParameter:"temp",units:"metric"};function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}class f extends b.DataSourceWithBackend{getDefaultQuery(e){return m}applyTemplateVariables(e,t){return d(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}({},e),{queryText:(0,b.getTemplateSrv)().replace(e.queryText,t)})}filterQuery(e){return!!e.queryText}constructor(e){super(e)}}var v=o(959),O=o.n(v),g=o(7);function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){P(e,t,r[t])}))}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const D=[{label:"Standard",value:"standard"},{label:"Metric",value:"metric"},{label:"Imperial",value:"imperial"}],x=[{label:"Main Weather Data",value:"main"},{label:"Wind",value:"wind"},{label:"Clouds",value:"clouds"},{label:"Rain",value:"rain"}],k={main:[{label:"Temperature",value:"temp"},{label:"Feels Like",value:"feels_like"},{label:"Min Temperature",value:"temp_min"},{label:"Max Temperature",value:"temp_max"},{label:"Pressure",value:"pressure"},{label:"Sea Level",value:"sea_level"},{label:"Ground Level",value:"grnd_level"},{label:"Humidity",value:"humidity"}],wind:[{label:"Speed",value:"speed"},{label:"Direction",value:"deg"},{label:"Gust",value:"gust"}],clouds:[{label:"Cloudiness",value:"all"}],rain:[{label:"3h Rain Volume",value:"3h"}]};const C=new p.DataSourcePlugin(f).setConfigEditor((function(e){const{onOptionsChange:t,options:r}=e,{secureJsonFields:n,secureJsonData:a,jsonData:l}=r;return O().createElement(O().Fragment,null,O().createElement(g.InlineField,{label:"API Key",labelWidth:14,interactive:!0,tooltip:"Secure json field (backend only)"},O().createElement(g.SecretInput,{required:!0,id:"config-editor-api-key",isConfigured:n.apiKey,value:null==a?void 0:a.apiKey,placeholder:"Enter your API key",width:40,onReset:()=>{t(h(j({},r),{secureJsonFields:h(j({},r.secureJsonFields),{apiKey:!1}),secureJsonData:h(j({},r.secureJsonData),{apiKey:""})}))},onChange:e=>{t(h(j({},r),{secureJsonData:{apiKey:e.target.value}}))}})),O().createElement(g.InlineField,{label:"URL",labelWidth:14,tooltip:"URL to the weather API"},O().createElement(g.Input,{required:!0,id:"config-editor-url",value:l.url||"",placeholder:"Enter the URL",width:40,onChange:e=>{t(h(j({},r),{jsonData:h(j({},l),{url:e.target.value})}))}})))})).setQueryEditor((function({query:e,onChange:t,onRunQuery:r}){var n;return O().createElement(g.Stack,{direction:"column",gap:2},O().createElement("div",null,O().createElement(g.InlineField,{label:"City Name",labelWidth:20,tooltip:"Enter city name (e.g., London,uk)"},O().createElement("input",{type:"text",value:e.city||e.city||"",onChange:n=>{const a=n.target.value;t(E(S({},e),{city:a,queryText:a})),r()},placeholder:"Enter city name (e.g., London,uk)",className:"gf-form-input width-20"}))),O().createElement("div",null,O().createElement(g.InlineField,{label:"Main Parameter",labelWidth:20,tooltip:"Select main weather parameter"},O().createElement(g.Select,{options:x,value:x.find((t=>t.value===e.mainParameter)),onChange:n=>{if(!n.value)return;const a=n.value,l=k[a][0].value;t(E(S({},e),{mainParameter:a,subParameter:l})),r()},width:40}))),O().createElement("div",null,O().createElement(g.InlineField,{label:"Parameters",labelWidth:20,tooltip:"Select weather parameter"},O().createElement(g.Select,{options:k[e.mainParameter||"main"],value:{label:(null===(n=k[e.mainParameter||"main"].find((t=>t.value===e.subParameter)))||void 0===n?void 0:n.label)||"",value:e.subParameter||""},onChange:n=>{n.value&&(t(E(S({},e),{subParameter:n.value})),r())},isMulti:!1,width:40}))),O().createElement("div",null,O().createElement(g.InlineField,{label:"Units",labelWidth:20,tooltip:"Select measurement units"},O().createElement(g.Select,{options:D,value:e.units||"metric",onChange:n=>{t(E(S({},e),{units:n.value})),r()},width:40}))))}));return u})()));
//# sourceMappingURL=module.js.map